(this.webpackJsonparassistant_web=this.webpackJsonparassistant_web||[]).push([[0],{110:function(e,a,t){},111:function(e,a,t){},112:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),i=t.n(o),s=(t(88),t(21)),c=t(22),l=t(24),u=t(23),d=(t(89),t(10)),m=(t(90),t(91),t(65)),p=t.n(m),f=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props.title;return r.a.createElement("div",{className:"Header"},r.a.createElement("a",{href:"./home"},r.a.createElement("img",{src:p.a,alt:"ARAssistant"})),r.a.createElement("h1",{className:"Header-title"},e))}}]),t}(r.a.Component),g=t(66),h=t.n(g),b=(t(92),t(67)),E=t.n(b),v=t(68),O=t.n(v),y=t(69),j=t.n(y),w=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("p",null,"Desarrolladores: Lino Haller R\xedos, Jorge Garc\xeda Molina, Rafael Arag\xf3n Rodr\xedguez"),r.a.createElement("p",null,"Coordinador: Mois\xe9s Mart\xednez Guti\xe9rrez"),r.a.createElement("p",null,r.a.createElement("a",{className:"link",href:"https://github.com/jorgegarcia1996/ARAssistant",rel:"noopener noreferrer",target:"_blank"},"Proyecto ARAssistant")),r.a.createElement("a",{href:"https://www.dualizabankia.com/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("img",{src:E.a,alt:"bankia"})),r.a.createElement("a",{href:"https://fpempresa.net/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("img",{src:O.a,alt:"fpempresa",id:"fpempresa"})),r.a.createElement("a",{href:"https://iescampanillas.com/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("img",{src:j.a,alt:"iescampanillas"})))}}]),t}(r.a.Component),L=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement(f,{title:"Inicio"}),r.a.createElement("div",{className:"ButtonMenu"},r.a.createElement("a",{href:"./login",className:"adminBtn"},"Admin")),r.a.createElement("img",{src:h.a,alt:"icono de ARAssistant",id:"logo"}),r.a.createElement("div",{className:"Description"},r.a.createElement("p",null,"El proyecto consiste en una aplicaci\xf3n Android mediante la cual podr\xe9mos administrar las gafas de Realidad Aumentada. En esta aplicaci\xf3n podemos incluir capas con informaci\xf3n o elementos 3D los cuales ser\xe1n superpuestos en el entorno del usuario."),r.a.createElement("p",null,"La app Android ser\xe1 utilizada como servidor de contenidos para las gafas Epson Moverio BT-350 y con servicios para recoger o proveer datos a la aplicaci\xf3n instalada en las gafas de Realidad Aumentada. Gracias al posicionamiento de las capas, el usuario puede moverse libremente y los elementos aparecer\xe1s por proximidad, indicando tareas, descripciones, recordatorios, notificaciones, etc...")),r.a.createElement(w,null))}}]),t}(r.a.Component),k=(t(93),t(19)),A=t.n(k),I={apiKey:"AIzaSyAZAJ8jk6PGDUER2uTpnr9fG8PjPdGxkbQ",authDomain:"arassistant-2e660.firebaseapp.com",databaseURL:"https://arassistant-2e660.firebaseio.com",projectId:"arassistant-2e660",storageBucket:"arassistant-2e660.appspot.com",messagingSenderId:"84431647466",appId:"1:84431647466:web:1ef693182db43ccdf0dd93",measurementId:"G-2J15ZEJW9D"},S=function(e){return{type:"LOGIN",payload:{isLoggedIn:e}}};var C=t(41),N=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={email:"",password:""},e.setEmail=function(a){e.setState({email:a.target.value})},e.setPassword=function(a){e.setState({password:a.target.value})},e.login=function(){var a=e.state,t=a.email,n=a.password;""!==t&&""!==n&&e.props.login(t,n)},e}return Object(c.a)(t,[{key:"render",value:function(){return"true"===this.props.isLoggedIn?r.a.createElement(d.a,{to:"/admin"}):r.a.createElement("div",{className:"Login"},r.a.createElement(f,{title:"Login"}),r.a.createElement("div",{className:"Main"},r.a.createElement("div",{className:"Form"},r.a.createElement("h1",null,"Login"),r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{placeholder:"user@gmail.com",type:"email",onChange:this.setEmail}),r.a.createElement("label",{for:"password"},"Contrase\xf1a"),r.a.createElement("input",{placeholder:"*****",type:"password",onChange:this.setPassword}),r.a.createElement("button",{id:"login",onClick:this.login},"Iniciar sesi\xf3n"))),r.a.createElement(w,null))}}]),t}(r.a.Component);var _={login:function(e,a){return function(t){A.a.apps.length||A.a.initializeApp(I),A.a.auth().signInWithEmailAndPassword(e,a).then((function(e){return t(S("true"))})).catch((function(e){console.log(e.message)}))}}},U=Object(C.b)((function(e){return{isLoggedIn:e.userIsLoggedInReducer.isLoggedIn}}),_)(N),R=(t(110),t(45)),x=(t(111),t(156)),D=t(155),T=t(158),W=t(154),G=t(152),M=t(151),P=t(153),z=t(74);function B(e){var a=Object(n.useState)(!1),t=Object(R.a)(a,2),o=t[0],i=t[1],s=Object(n.useState)(e.userUid),c=Object(R.a)(s,1)[0],l=Object(n.useState)(e.userData),u=Object(R.a)(l,1)[0],d=Object(n.useState)(u.name),m=Object(R.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(u.surname),h=Object(R.a)(g,2),b=h[0],E=h[1],v=function(e){var a="string"==typeof e?A.a.database().ref("/user"):null;a&&a.child(e).update({name:p,surname:b}),i(!1)};return r.a.createElement("div",{className:"Alert"},r.a.createElement(z.a,{size:"20px",id:"edit",onClick:function(){i(!0)}}),r.a.createElement(T.a,{maxWidth:"lg",open:o,onClose:v,"aria-labelledby":"form-dialog-title"},r.a.createElement(M.a,{id:"form-dialog-title"},"Editar usuario: ",u.email),r.a.createElement(G.a,{className:"dialog-content"},r.a.createElement(P.a,null,"Introduce el nuevo nombre o apellidos del usuario."),r.a.createElement(D.a,{autoFocus:!0,margin:"dense",id:"name",label:"Nombre",type:"text",fullWidth:!0,onChange:function(e){return f(e.target.value)}}),r.a.createElement(D.a,{margin:"dense",id:"surname",label:"Apellidos",type:"text",fullWidth:!0,onChange:function(e){return E(e.target.value)}})),r.a.createElement(W.a,null,r.a.createElement(x.a,{onClick:v,color:"primary"},"Cancelar"),r.a.createElement(x.a,{onClick:function(){return v(c)},color:"primary"},"Aceptar"))))}var J=t(159);var H=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=a.call.apply(a,[this].concat(o))).createTable=function(a){var t=[],n=e.props,o=n.fbUsers,i=n.uidList;return Object.values(o).forEach((function(e,a){var n=[];n.push(r.a.createElement("td",{key:e.name},e.name)),n.push(r.a.createElement("td",{key:e.surname},e.surname)),n.push(r.a.createElement("td",{key:e.email},e.email)),n.push(r.a.createElement("td",{key:"icons",id:"icons"},r.a.createElement(B,{userUid:i[a],userData:e}))),t.push(r.a.createElement("tr",{key:"user "+a},n))})),t},e.logout=function(){e.props.logout()},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllUsersList()}},{key:"render",value:function(){if("false"===this.props.isLoggedIn)return console.log("Admin -> render -> this.props.isLoggedIn",this.props.isLoggedIn),r.a.createElement(d.a,{to:"/home"});var e=!1;return this.props.fbUsers&&(e=!0),e?r.a.createElement("div",{className:"Admin"},r.a.createElement(f,{title:"Usuarios"}),r.a.createElement("div",{className:"ButtonMenu"},r.a.createElement("button",{className:"logoutBtn",onClick:this.logout},"Logout")),r.a.createElement(J.a,{className:"Table",striped:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{id:"name"},"Nombre"),r.a.createElement("th",{id:"surname"},"Apellidos"),r.a.createElement("th",{id:"email"},"Mail"),r.a.createElement("th",{id:"actions"},"Editar"))),r.a.createElement("tbody",null,this.createTable(Object.keys(this.props.fbUsers).length))),r.a.createElement(w,null)):void 0}}]),t}(r.a.Component);var X={getAllUsersList:function(){return function(e){var a,t;A.a.apps.length||A.a.initializeApp(I),A.a.database().ref("/user").on("value",(function(n){return t=[],Object.keys(n.val()).map((function(e,a){t.push(e)})),a=n.val(),e(function(e,a){return{type:"GET_ALL_USERS_SUCCESS",payload:{fbUsers:e,uidList:a}}}(a,t))}))}},logout:function(){return function(e){A.a.apps.length||A.a.initializeApp(I),A.a.auth().signOut().then((function(){return e(S("false"))})).catch((function(e){console.log(e.message)}))}}},F=Object(C.b)((function(e){return{uidList:e.userListReducer.uidList,fbUsers:e.userListReducer.fbUsers,isLoggedIn:e.userIsLoggedInReducer.isLoggedIn}}),X)(H),V=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement(d.d,{key:"switch"},r.a.createElement(d.b,{key:"home",path:"/home",exact:!0,component:L}),r.a.createElement(d.b,{key:"login",path:"/login",exact:!0,component:U}),r.a.createElement(d.b,{key:"admin",path:"/admin",exact:!0,component:F}),r.a.createElement(d.a,{from:"*",to:"/home"}))))}}]),t}(r.a.Component),Z=Object(d.g)(V),K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $=t(51),q=t(32),Y=t(44),ee={fbUsers:{},uidList:[]};var ae={isLoggedIn:localStorage.getItem("isLoggedIn")};var te=Object(q.c)({userListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ALL_USERS_SUCCESS":return Object(Y.a)(Object(Y.a)({},e),{},{fbUsers:a.payload.fbUsers,uidList:a.payload.uidList});default:return e}},userIsLoggedInReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return localStorage.setItem("isLoggedIn",a.payload.isLoggedIn),Object(Y.a)(Object(Y.a)({},e),{},{isLoggedIn:a.payload.isLoggedIn});default:return e}}}),ne=t(73),re=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):q.d)(Object(q.a)(ne.a)),oe=Object(q.e)(te,re);i.a.render(r.a.createElement(C.a,{store:oe},r.a.createElement($.a,null,r.a.createElement(Z,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");K?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Q(a,e)}))}}()},65:function(e,a,t){e.exports=t.p+"static/media/Icono_persona_arassistant.3054ad2d.svg"},66:function(e,a,t){e.exports=t.p+"static/media/logo.510de448.svg"},67:function(e,a,t){e.exports=t.p+"static/media/bankia.c6ebd640.png"},68:function(e,a,t){e.exports=t.p+"static/media/fpempresa.2162b092.png"},69:function(e,a,t){e.exports=t.p+"static/media/iescampanillas.00a412a5.png"},83:function(e,a,t){e.exports=t(112)},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){}},[[83,1,2]]]);
//# sourceMappingURL=main.e53a6023.chunk.js.map